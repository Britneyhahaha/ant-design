"use strict";(self.webpackChunkantd=self.webpackChunkantd||[]).push([[3716],{303840:function(oe,F,d){Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0;const D=N(d(554434));function N(w){return w&&w.__esModule?w:{default:w}}const p=D;F.default=p,oe.exports=p},722967:function(oe,F,d){d.d(F,{Z:function(){return ut}});var D=d(487462),N=d(601413),p=d(297685),w=d(912402),Le=d(294184),Ke=d.n(Le),De=d(267656),Ae=d(491304),Be=d(850344),ke=d(821770),h=d(915105),Kt=d(580334),r=d(667294);function Ue(){var e=(0,r.useState)({id:0,callback:null}),t=(0,p.Z)(e,2),u=t[0],s=t[1],i=(0,r.useCallback)(function(f){s(function(o){var v=o.id;return{id:v+1,callback:f}})},[]);return(0,r.useEffect)(function(){var f;(f=u.callback)===null||f===void 0||f.call(u)},[u]),i}var je=d(440228),X=d(72512),Ve=r.createContext(null),le=Ve;function We(e){var t=r.useContext(le),u=t.notFoundContent,s=t.activeIndex,i=t.setActiveIndex,f=t.selectOption,o=t.onFocus,v=t.onBlur,x=e.prefixCls,m=e.options,S=m[s]||{};return r.createElement(X.ZP,{prefixCls:"".concat(x,"-menu"),activeKey:S.key,onSelect:function(E){var I=E.key,C=m.find(function(y){var Z=y.key;return Z===I});f(C)},onFocus:o,onBlur:v},m.map(function(g,E){var I=g.key,C=g.disabled,y=g.className,Z=g.style,A=g.label;return r.createElement(X.sN,{key:I,disabled:C,className:y,style:Z,onMouseEnter:function(){i(E)}},A)}),!m.length&&r.createElement(X.sN,{disabled:!0},u))}var Xe=We,Ye={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},ze=function(t){var u=t.prefixCls,s=t.options,i=t.children,f=t.visible,o=t.transitionName,v=t.getPopupContainer,x=t.dropdownClassName,m=t.direction,S=t.placement,g="".concat(u,"-dropdown"),E=r.createElement(Xe,{prefixCls:g,options:s}),I=(0,r.useMemo)(function(){var C;return m==="rtl"?C=S==="top"?"topLeft":"bottomLeft":C=S==="top"?"topRight":"bottomRight",C},[m,S]);return r.createElement(je.Z,{prefixCls:g,popupVisible:f,popup:E,popupPlacement:I,popupTransitionName:o,builtinPlacements:Ye,getPopupContainer:v,popupClassName:x},i)},Qe=ze,He=function(){return null},Ge=He;function Je(e){var t=e.selectionStart;return e.value.slice(0,t)}function _e(e,t){return t.reduce(function(u,s){var i=e.lastIndexOf(s);return i>u.location?{location:i,prefix:s}:u},{location:-1,prefix:""})}function ie(e){return(e||"").toLowerCase()}function qe(e,t,u){var s=e[0];if(!s||s===u)return e;for(var i=e,f=t.length,o=0;o<f;o+=1)if(ie(i[o])!==ie(t[o])){i=i.slice(o);break}else o===f-1&&(i=i.slice(f));return i}function et(e,t){var u=t.measureLocation,s=t.prefix,i=t.targetText,f=t.selectionStart,o=t.split,v=e.slice(0,u);v[v.length-o.length]===o&&(v=v.slice(0,v.length-o.length)),v&&(v="".concat(v).concat(o));var x=qe(e.slice(f),i.slice(f-u-s.length),o);x.slice(0,o.length)===o&&(x=x.slice(o.length));var m="".concat(v).concat(s).concat(i).concat(o);return{text:"".concat(m).concat(x),selectionLocation:m.length}}function tt(e,t){e.setSelectionRange(t,t),e.blur(),e.focus()}function nt(e,t){return!t||e.indexOf(t)===-1}function rt(e,t){var u=t.value,s=u===void 0?"":u,i=e.toLowerCase();return s.toLowerCase().indexOf(i)!==-1}var at=["prefixCls","className","style","prefix","split","notFoundContent","value","defaultValue","children","options","open","validateSearch","filterOption","onChange","onKeyDown","onKeyUp","onPressEnter","onSearch","onSelect","onFocus","onBlur","transitionName","placement","direction","getPopupContainer","dropdownClassName","rows"],ot=["suffix","prefixCls","classes","value"],lt=(0,r.forwardRef)(function(e,t){var u=e.prefixCls,s=u===void 0?"rc-mentions":u,i=e.className,f=e.style,o=e.prefix,v=o===void 0?"@":o,x=e.split,m=x===void 0?" ":x,S=e.notFoundContent,g=S===void 0?"Not Found":S,E=e.value,I=e.defaultValue,C=e.children,y=e.options,Z=e.open,A=e.validateSearch,se=A===void 0?nt:A,ce=e.filterOption,Y=ce===void 0?rt:ce,z=e.onChange,Q=e.onKeyDown,H=e.onKeyUp,fe=e.onPressEnter,ve=e.onSearch,G=e.onSelect,de=e.onFocus,J=e.onBlur,st=e.transitionName,ct=e.placement,ft=e.direction,vt=e.getPopupContainer,dt=e.dropdownClassName,me=e.rows,mt=me===void 0?1:me,pt=(0,w.Z)(e,at),B=(0,r.useMemo)(function(){return Array.isArray(v)?v:[v]},[v]),$=(0,r.useRef)(null),_=(0,r.useRef)(null),q=function(){var n,a;return(n=$.current)===null||n===void 0||(a=n.resizableTextArea)===null||a===void 0?void 0:a.textArea};r.useImperativeHandle(t,function(){var c,n;return{focus:function(){var l;return(l=$.current)===null||l===void 0?void 0:l.focus()},blur:function(){var l;return(l=$.current)===null||l===void 0?void 0:l.blur()},textarea:(c=$.current)===null||c===void 0||(n=c.resizableTextArea)===null||n===void 0?void 0:n.textArea}});var xt=(0,r.useState)(!1),pe=(0,p.Z)(xt,2),k=pe[0],xe=pe[1],gt=(0,r.useState)(""),ge=(0,p.Z)(gt,2),Ce=ge[0],he=ge[1],Ct=(0,r.useState)(""),Se=(0,p.Z)(Ct,2),ye=Se[0],ht=Se[1],St=(0,r.useState)(0),we=(0,p.Z)(St,2),Ee=we[0],Ie=we[1],yt=(0,r.useState)(0),Me=(0,p.Z)(yt,2),ee=Me[0],te=Me[1],wt=(0,r.useState)(!1),Pe=(0,p.Z)(wt,2),Et=Pe[0],Ne=Pe[1],It=(0,ke.default)("",{defaultValue:I,value:E}),Ze=(0,p.Z)(It,2),T=Ze[0],Mt=Ze[1];(0,r.useEffect)(function(){k&&_.current&&(_.current.scrollTop=q().scrollTop)},[k]);var Pt=r.useMemo(function(){if(Z)for(var c=0;c<B.length;c+=1){var n=B[c],a=T.lastIndexOf(n);if(a>=0)return[!0,"",n,a]}return[k,Ce,ye,Ee]},[Z,k,B,T,Ce,ye,Ee]),U=(0,p.Z)(Pt,4),O=U[0],ne=U[1],j=U[2],re=U[3],ae=r.useCallback(function(c){var n;return y&&y.length>0?n=y.map(function(a){var l;return(0,N.Z)((0,N.Z)({},a),{},{key:(l=a==null?void 0:a.key)!==null&&l!==void 0?l:a.value})}):n=(0,Be.Z)(C).map(function(a){var l=a.props,M=a.key;return(0,N.Z)((0,N.Z)({},l),{},{label:l.children,key:M||l.value})}),n.filter(function(a){return Y===!1?!0:Y(c,a)})},[C,y,Y]),V=r.useMemo(function(){return ae(ne)},[ae,ne]),Nt=Ue(),Zt=function(n,a,l){xe(!0),he(n),ht(a),Ie(l),te(0)},R=function(n){xe(!1),Ie(0),he(""),Nt(n)},Te=function(n){Mt(n),z==null||z(n)},Tt=function(n){var a=n.target.value;Te(a)},Oe=function(n){var a,l=n.value,M=l===void 0?"":l,P=et(T,{measureLocation:re,targetText:M,prefix:j,selectionStart:(a=q())===null||a===void 0?void 0:a.selectionStart,split:m}),b=P.text,L=P.selectionLocation;Te(b),R(function(){tt(q(),L)}),G==null||G(n,j)},Ot=function(n){var a=n.which;if(Q==null||Q(n),!!O){if(a===h.Z.UP||a===h.Z.DOWN){var l=V.length,M=a===h.Z.UP?-1:1,P=(ee+M+l)%l;te(P),n.preventDefault()}else if(a===h.Z.ESC)R();else if(a===h.Z.ENTER){if(n.preventDefault(),!V.length){R();return}var b=V[ee];Oe(b)}}},Rt=function(n){var a=n.key,l=n.which,M=n.target,P=Je(M),b=_e(P,B),L=b.location,W=b.prefix;if(H==null||H(n),[h.Z.ESC,h.Z.UP,h.Z.DOWN,h.Z.ENTER].indexOf(l)===-1)if(L!==-1){var K=P.slice(L+W.length),$e=se(K,m),Lt=!!ae(K).length;$e?(a===W||a==="Shift"||O||K!==ne&&Lt)&&Zt(K,W,L):O&&R(),ve&&$e&&ve(K,W)}else O&&R()},bt=function(n){!O&&fe&&fe(n)},Re=(0,r.useRef)(),be=function(n){window.clearTimeout(Re.current),!Et&&n&&de&&de(n),Ne(!0)},Fe=function(n){Re.current=window.setTimeout(function(){Ne(!1),R(),J==null||J(n)},0)},Ft=function(){be()},$t=function(){Fe()};return r.createElement("div",{className:Ke()(s,i),style:f},r.createElement(Ae.Z,(0,D.Z)({ref:$,value:T},pt,{rows:mt,onChange:Tt,onKeyDown:Ot,onKeyUp:Rt,onPressEnter:bt,onFocus:be,onBlur:Fe})),O&&r.createElement("div",{ref:_,className:"".concat(s,"-measure")},T.slice(0,re),r.createElement(le.Provider,{value:{notFoundContent:g,activeIndex:ee,setActiveIndex:te,selectOption:Oe,onFocus:Ft,onBlur:$t}},r.createElement(Qe,{prefixCls:s,transitionName:st,placement:ct,direction:ft,options:V,visible:!0,getPopupContainer:vt,dropdownClassName:dt},r.createElement("span",null,j))),T.slice(re+j.length)))}),ue=(0,r.forwardRef)(function(e,t){var u=e.suffix,s=e.prefixCls,i=e.classes,f=e.value,o=(0,w.Z)(e,ot);return r.createElement(De.Q,{inputElement:r.createElement(lt,(0,D.Z)({prefixCls:s,ref:t},o)),suffix:u,prefixCls:s,classes:i,value:f})});ue.Option=Ge;var it=ue,ut=it}}]);
